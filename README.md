# 私密时刻 (Intimate Moments)

<p align="center">
  <img src="screenshots/app_icon.png" alt="应用图标" width="120"/>
</p>

## 项目概述

"私密时刻"是一款隐私导向的个人健康追踪应用，专为记录和分析用户性生活而设计。该应用提供了直观的界面来记录性活动和自慰行为，并通过数据可视化和分析功能帮助用户了解自己的亲密生活模式。应用采用 SwiftUI 开发，同时支持 iOS 和 macOS 平台。

## 主要功能

- **安全登录系统**：使用密码和生物识别保护隐私数据
- **活动记录**：记录不同类型的性活动，包括：
  - 持续时间（手动输入或使用计时器）
  - 满意度评分（五星制）
  - 情绪状态
  - 活动类型（性行为/自慰）
- **标签系统**：为记录添加自定义标签（如地点、伴侣等）
- **计时器功能**：内置计时器用于准确记录活动持续时间
- **历史记录**：按月份组织的历史记录，支持搜索和过滤
- **数据分析**：提供活动频率、持续时间、满意度等方面的统计和趋势分析
- **设置选项**：自定义应用锁定、数据导出和其他偏好设置
- **跨平台支持**：同时支持 iOS 和 macOS 平台

## 技术栈

- **开发语言**：Swift 5.5+
- **UI 框架**：SwiftUI
- **数据持久化**：UserDefaults (当前版本)
- **图表库**：Swift Charts
- **认证**：LocalAuthentication 框架（生物识别）
- **设计模式**：MVVM 架构

## 安装与运行

### 系统要求

- iOS 15.0+ / macOS 12.0+
- Xcode 14.0+
- Swift 5.5+

### 构建步骤

1. 克隆仓库：

   ```bash
   git clone https://github.com/YangHeng66/dafeiji.git
   cd dafeiji
   ```

2. 使用 Xcode 打开项目：

   ```bash
   open dafeiji.xcodeproj
   ```

3. 选择目标设备（iOS 设备或 Mac）

4. 点击运行按钮或按下`Cmd+R`开始构建

### 登录凭据

- 用户名：`admin`
- 密码：`password`

## 项目结构

```
dafeiji/
├── Models/              # 数据模型
│   └── RecordModel.swift  # 记录数据模型和数据存储
├── Views/               # 应用视图
│   ├── LoginView.swift    # 登录界面
│   ├── HomeView.swift     # 主页/统计视图
│   ├── RecordView.swift   # 记录添加界面
│   ├── HistoryView.swift  # 历史记录界面
│   ├── AnalyticsView.swift # 数据分析界面
│   └── SettingsView.swift # 设置界面
├── Components/          # 可复用UI组件
│   └── StatsCard.swift    # 统计卡片等组件
├── Utilities/           # 工具类
│   └── ColorExtensions.swift # 颜色扩展
└── ContentView.swift    # 主容器视图
```

## 使用指南

### 添加新记录

1. 点击主页底部的"+"按钮或导航到"记录"选项卡
2. 选择活动类型（性行为/自慰）
3. 使用计时器记录持续时间或手动输入
4. 设置日期和时间
5. 添加相关标签
6. 评价满意度和情绪
7. 添加备注（可选）
8. 点击"保存"

### 查看历史记录

1. 导航到"历史"选项卡
2. 浏览按月份组织的记录
3. 使用搜索栏或过滤器查找特定记录
4. 点击记录查看详情

### 分析数据

1. 导航到"分析"选项卡
2. 查看不同时间范围的统计数据
3. 浏览各种图表和趋势分析
4. 查看智能洞察和建议

## 开发路线图

项目开发计划分为四个主要阶段，每个阶段专注于不同的方面：

### 第一阶段：基础架构优化（1-2 个月）

- **数据持久化改进**
  - 迁移到 CoreData
  - 实现数据备份与恢复功能
- **用户认证增强**
  - 改进生物识别集成
  - 增强密码管理功能
- **代码质量提升**
  - 重构现有代码
  - 添加单元测试

### 第二阶段：功能扩展（2-4 个月）

- **用户体验优化**
  - 改进 UI/UX 设计
  - 添加动画与交互效果
- **数据分析增强**
  - 实现高级统计功能
  - 改进数据可视化
- **记录功能扩展**
  - 添加伴侣管理
  - 实现高级标签系统

### 第三阶段：高级功能（4-6 个月）

- **云同步功能**
  - 集成 iCloud
  - 可选的自定义服务器同步
- **健康集成**
  - 连接 Apple 健康数据
  - 实现健康目标与提醒
- **AI 功能**
  - 开发智能洞察
  - 添加自然语言处理

### 第四阶段：平台扩展（6 个月以上）

- **Apple Watch 应用**
- **社区功能**（可选）
- **其他平台支持**（可选）

详细的开发计划请参阅[项目开发计划.md](项目开发计划.md)文档。

## 版本规划

- **v1.0**：基础功能（当前版本）
- **v1.5**：数据持久化改进和 UI 优化
- **v2.0**：高级分析和伴侣管理
- **v3.0**：云同步和健康集成
- **v4.0**：AI 功能和平台扩展

## 贡献指南

我们欢迎并鼓励社区贡献！如果您想参与项目开发，请遵循以下步骤：

### 贡献流程

1. Fork 项目仓库
2. 创建您的功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

### 开发准则

- **代码风格**：遵循 Swift API 设计指南
- **文档**：为所有公共 API 提供文档注释
- **测试**：添加单元测试和 UI 测试
- **提交信息**：使用清晰、描述性的提交信息
- **分支策略**：
  - `main`：稳定版本
  - `develop`：开发中的版本
  - `feature/*`：新功能
  - `bugfix/*`：Bug 修复
  - `release/*`：发布准备

### 优先开发领域

如果您想贡献但不确定从哪里开始，以下是一些优先开发的领域：

1. **数据持久化**：帮助实现 CoreData 迁移
2. **UI/UX 改进**：优化现有界面或添加新的视觉元素
3. **测试覆盖**：增加单元测试和 UI 测试
4. **文档完善**：改进代码注释和用户文档
5. **性能优化**：提高应用响应速度和减少资源消耗

## 质量保证

为确保项目质量，我们实施以下措施：

- **代码审查**：所有 Pull Request 必须经过审查
- **自动化测试**：单元测试和 UI 测试的持续集成
- **性能监控**：定期检查应用性能
- **用户反馈**：收集和分析用户反馈

## 隐私声明

"私密时刻"应用高度重视用户隐私：

- 所有数据默认存储在设备本地
- 不收集或传输任何个人数据
- 提供应用锁定功能保护数据安全
- 支持完全删除所有数据的选项

## 许可证

本项目采用 MIT 许可证 - 详情请参阅[LICENSE](LICENSE)文件

## 联系方式

如有问题或建议，请通过以下方式联系：

- 电子邮件：yh44158296@gmail.comßßß
- GitHub Issues：[创建新 Issue](https://github.com/YangHeng66/dafeiji/issues)

---

<p align="center">
  开发者：杨恒 | 版本：1.0.0 | 最后更新：2025年3月14ßßßß
</p>
